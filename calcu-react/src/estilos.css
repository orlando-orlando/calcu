/* ==========================================================
   üß± estilos.css ‚Äî versi√≥n consolidada (limpia)
   ========================================================== */

/* === Variables globales === */
:root{
  --color-primario: #1e81ce;
  --color-acento: #4ea8de;
  --color-secundario: #e8f0ff;
  --color-fondo: #f8f8ff;
  --color-texto: #1a1a1a;
  --color-borde: #d9e2ef;
  --color-acento-2: #0077cc;

  /* toggles */
  --toggle-bg: #2b6cb0;
  --toggle-bg-hover: #265b93;
  --toggle-bg-active: #3182ce;
  --toggle-border: #d1d9e6;
}

/* === Reset b√°sico === */
* { margin:0; padding:0; box-sizing:border-box; }
html,body{
  height:100%;
  background-color:var(--color-fondo);
  color:var(--color-texto);
  font-family:"Inter","Segoe UI",sans-serif;
  line-height:1.5;
}

/* ==========================================================
   üß© Layout general
   ========================================================== */

.app-contenedor{
  display:flex;
  height:100vh;
  width:100%;
  overflow:hidden;
}

.titulo-panel{
  font-size: 0.95rem;
  font-weight: 600;
  color: #1e293b;

  text-align: center;
  margin: 1.5rem 0 2rem;

  letter-spacing: 0.4px;
  text-transform: uppercase;
  opacity: 0.85;
}

/* Tabs laterales */
.tab{
  cursor:pointer;
  padding:0.75rem 1rem;
  border-radius:0.5rem;
  transition:background-color .2s ease;
  margin-bottom:.25rem;
  text-align:center;
}
.tab:hover{ background-color:rgba(255,255,255,.15); }
.tab.active{ background:#fff; color:var(--color-primario); font-weight:600; }

/* Panel derecho */
.panel-derecho{
  flex: 1;
  display: flex;
  flex-direction: column;

  background: #f8fbff;

  height: 100vh;          /* clave */
  overflow: hidden;      /* ‚õî evita scroll */
  padding: 0;            /* ‚õî quitamos padding aqu√≠ */
}


/* Contenido principal dentro del panel derecho (scroll aqu√≠ si hace falta) */
.panel-derecho-contenido{
  flex: 1;               /* ocupa todo el espacio disponible */
  padding: 1.5rem;       /* padding VA AQU√ç, no en el panel */
  overflow: hidden;      /* ‚õî sin scroll */
  box-sizing: border-box;
}


/* ==========================================================
   üß© Botones
   ========================================================== */

.btn-calcular, .btn-principal{
  background-color:var(--color-acento);
  color:#fff;
  font-weight:600;
  padding:.75rem 1.5rem;
  border:none;
  border-radius:.5rem;
  cursor:pointer;
  transition:background-color .25s, transform .2s;
}
.btn-calcular:hover, .btn-principal:hover{ background-color:#005fa3; transform:translateY(-2px); }

.btn-volver{
  color:var(--color-primario);
  background:transparent;
  border:none;
  font-weight:600;
  cursor:pointer;
  transition:color .2s;
}
.btn-volver:hover{ color:#0077cc; }

/* versi√≥n minimal para overlay (bot√≥n peque√±o blanco) */
.btn-volver.minimal{
  background:rgba(255,255,255,.06);
  color:#fff;
  border:none;
  padding:6px 10px;
  border-radius:6px;
  align-self:flex-start;
  margin-bottom:2px;
  cursor:pointer;
  transition:background .18s;
}
.btn-volver.minimal:hover{ background:rgba(255,255,255,.12); }

/* ==========================================================
   üß© Formularios e inputs
   ========================================================== */

.input-azul, select.input-azul{
  border:1px solid var(--color-borde);
  border-radius:.5rem;
  padding:.5rem .75rem;
  outline:none;
  transition:border-color .2s;
  width:100%;
}
.input-azul:focus{ border-color:var(--color-primario); }

.form-group{ margin-bottom:1rem; }
.inline{ display:flex; gap:1rem; flex-wrap:wrap; }

/* ==========================================================
   üß© Tarjetas generales
   ========================================================== */

.tarjeta-bdc{
  background:rgba(255,255,255,.96);
  border:none;
  padding:14px;
  border-radius:.75rem;
  box-shadow:0 8px 26px rgba(8,20,40,.06);
  transition:transform .2s, box-shadow .25s;
  will-change: transform;
}

.tarjeta-bdc:hover{
  transform:translateY(-2px);
  box-shadow:0 4px 12px rgba(0,0,0,.12);
}

/* ==========================================================
   üß© Secci√≥n Dimensiones / Tipo de sistema
   ========================================================== */

.tipo-sistema-container{
  display:flex;
  flex-direction:column;
  gap:1.5rem;
}

.tarjeta-tipo-sistema{
  background:#fff;
  border:1px solid var(--color-borde);
  border-radius:1rem;
  padding:1.25rem;
  box-shadow:0 2px 6px rgba(0,0,0,.05);
  transition:transform .2s, box-shadow .25s;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  min-height: unset;
  max-height: unset;
  height: auto;
  position:relative;

  /* Fix real de esquinas cuadradas */
  clip-path: inset(-1px round 1rem);
  will-change: transform;
}

.tarjeta-tipo-sistema:hover{
  transform:translate3d(0, -2px, 0); /* fix GPU */
  box-shadow:0 4px 14px rgba(0,0,0,.12);
}

.tarjeta-tipo-sistema > * {
    position: relative;
    z-index: 2;
}

.tarjeta-tipo-sistema .titulo-seccion{
  font-size:1.35rem;
  font-weight:800; 
  color:var(--color-primario); 
  text-align:center;
  transform:translateY(-2px);
}

.tarjeta-tipo-sistema::-webkit-scrollbar{
  width:6px;
}
.tarjeta-tipo-sistema::-webkit-scrollbar-track{
  background:transparent;
}
.tarjeta-tipo-sistema::-webkit-scrollbar-thumb{
  background:rgba(0,0,0,.15);
  border-radius:10px;
}

/* Grid de tarjetas (opcion-sistema) */
.opciones-sistema{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:1.5rem;
  justify-items:center;
  margin-top:2rem;
  max-height: 520px;
  overflow: visible;
}

/* Tarjeta individual de sistema */
.opcion-sistema{
  background:#fff;
  border-radius:1rem;
  border:1px solid #d3deee;
  padding:.5rem;
  width:100%;
  height:270px;
  text-align:center;
  cursor:pointer;
  transition:transform .25s ease, box-shadow .25s ease;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:space-between;
  transform-origin:center;
  position:relative;
  z-index:1;
  overflow:hidden;
}
.opcion-sistema:not(.seleccionada):hover {
  transform:scale(1.04);
  box-shadow:0 8px 20px rgba(0,0,0,.15);
  border-color:var(--color-acento);
  z-index:5;
}

.opcion-sistema img{
  border-radius:.6rem;
  width:100%;
  height:200px;
  object-fit:cover;
  display:block;          
  transform: translateZ(0); 
}
.opcion-sistema span{
  font-weight:600;
  color:var(--color-primario);
  font-size:1rem;
}

.opcion-sistema.seleccionada {
  animation: opcionSeleccion 0.45s ease forwards;
  transform-origin: center;
  border-color: var(--color-acento);
}

.opcion-sistema::before{
  content:none !important;
}

/* ==========================================================
   ‚úî Animaci√≥n al seleccionar (OPCI√ìN A ‚Äî Zoom + Glow Premium)
   ========================================================== */

@keyframes opcionSeleccion {
  0% {
    transform: scale(1) translateY(0);
    box-shadow: 0 0 0 rgba(0, 150, 255, 0);
  }
  40% {
    transform: scale(1.06) translateY(-3px);
    box-shadow: 0 10px 25px rgba(0, 150, 255, 0.18);
  }
  100% {
    transform: scale(1.045) translateY(-2px);
    box-shadow: 0 6px 18px rgba(0, 150, 255, 0.16);
  }
}

/* ==========================================================
   üß© Franja de Preview (footer)
   ========================================================== */

@keyframes slideUp{
  0%{ transform:translateY(100%); opacity:0; }
  100%{ transform:translateY(0); opacity:1; }
}

.opciones-footer{
  margin-top:2.5rem;
  width:100%;
  background:rgba(255,255,255,.8);
  border-top:2px solid #e5e7eb;
  border-radius:0 0 1rem 1rem;
  backdrop-filter:blur(8px);
  -webkit-backdrop-filter:blur(8px);
  overflow:hidden;

  min-height:195px;

  /* ‚¨á correcci√≥n principal */
  display:flex;
  align-items:center;        /* centrado vertical */
  justify-content:center;    /* centrado horizontal */

  animation:slideUp .6s ease forwards;
  box-shadow:0 -3px 10px rgba(0,0,0,.05);
  padding:1rem 0;
}
.opciones-preview{
  display:flex;
  align-items:center;
  justify-content:flex-start; /* lo deja alineado a la izquierda */
  gap:2rem;
  width:100%;
  max-width:1100px;
  padding-left:1rem;         /* centrado a la izquierda m√°s elegante */
}
.opciones-preview-img{
  width:200px; height:130px; object-fit:cover; border-radius:.75rem;
  border:1px solid var(--color-borde);
  transition:transform .3s ease, box-shadow .3s ease;
}
.opciones-preview-img:hover{ transform:scale(1.08); box-shadow:0 4px 15px rgba(0,0,0,.25); }

.opciones-meta{ display:flex; flex-direction:column; justify-content:center; max-width:60%; }
.opciones-meta .titulo{ font-weight:700; font-size:1.2rem; color:#1f2937; }
.opciones-meta .desc{ font-size:1rem; color:#4b5563; margin-top:6px; }
.opciones-placeholder{ color:#9ca3af; font-style:italic; text-align:center; padding:12px; }

/* ==========================================================
   üß© Imagen activa y ayuda contextual
   ========================================================== */

.texto-imagen{ text-align:center; font-size:.9rem; color:#444; margin-top:.5rem; }

/* Ayuda contextual base */
.ayuda-contextual{
  margin-top:1.5rem;
  background-color:var(--color-secundario);
  border-radius:.75rem;
  padding:1rem;
  font-size:.9rem;
}

/* versi√≥n overlay (cuando est√° sobre el hero) */
.ayuda-contextual.overlay-help{
  width:100%;
  padding:14px;
  background:rgba(255,255,255,.92);
  border-radius:.6rem;
  box-shadow:0 6px 18px rgba(8,20,40,.06);
  text-align:left;
}

/* Evitar duplicidad de .ayuda-titulo: usar una √∫nica definici√≥n */
.ayuda-titulo{
  font-weight:700;
  color:var(--color-primario);
  margin-bottom:.4rem;
}
.ayuda-texto{ color:#334155; font-size:.95rem; line-height:1.4; }

/* ==========================================================
   üß© TOGGLES ‚Äî estilo card minimalista tipo dashboard
   ========================================================== */

.toggle-seccion{
  margin-top:1rem; /* typo corregido */
  border-radius:.75rem;
  background:#fff;
  box-shadow:0 2px 8px rgba(0,0,0,.05);
  overflow:hidden;
  transition:box-shadow .25s ease, transform .25s ease;
  border:1px solid #d3deee;
}
.toggle-seccion:hover{ box-shadow:0 4px 12px rgba(0,0,0,.08); transform:translateY(-2px); }

.toggle-boton{
  width:100%;
  background:linear-gradient(135deg,#7fc2f1,#5ea4e5);
  color:#fff;
  border:none;
  padding:1rem 1.2rem;
  font-weight:600;
  cursor:pointer;
  font-size:.9rem;
  text-align:left;
  display:flex;
  align-items:center;
  justify-content:space-between;
  transition:background .3s ease;
  border-bottom:1px solid #d3deee;
}
.toggle-boton span{ display:flex; align-items:center; gap:.6rem; }
.toggle-boton svg{ transition:transform .25s ease; }
.toggle-boton.activo svg{ transform:rotate(180deg); }
.toggle-boton:hover{ background:linear-gradient(135deg,#8cccfa,#67b0ec); }

/* estado activo (unificado y no conflictivo con otros .activo) */
.toggle-boton.activo{
  background:#1e81ce;
  color:white;
  border-radius:.75rem .75rem 0 0;
}

/* ==========================================================
   üß© Responsive rules
   ========================================================== */

@media (max-width:1200px){
  .opciones-sistema{ grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:1.5rem; }
  .opcion-sistema{ max-width:220px; height:220px; }
}
@media (max-width:900px){
  .opciones-sistema{ grid-template-columns:repeat(2,1fr); gap:1rem; }
  .opciones-footer{ margin-top:1.6rem; min-height:110px; }
}
@media (max-width:640px){
  .panel-izquierdo{ width:100%; position:relative; }
  .app-contenedor{ flex-direction:column; height:auto; }
  .panel-derecho{ order:2; }
  .panel-derecho-contenido{ padding:1rem; }
  .opciones-sistema{ grid-template-columns:repeat(1,1fr); }
}

/* ==========================================================
   üß© TABLA RESULTADOS (simple)
   ========================================================== */

.tabla-resultados{ width:100%; border-collapse:collapse; font-size:.8rem; border-radius:.5rem; overflow:hidden; box-shadow:none; }
.tabla-resultados th, .tabla-resultados td{ padding:6px 8px; text-align:left; }
.tabla-resultados th{ font-weight:600; color:var(--color-primario); }

/* ==========================================================
   üìå Correcci√≥n del layout del panel de dimensiones
   ========================================================== */

/* sistema-contenido: √∫nico contenedor que maneja el scroll del detalle */
.sistema-contenido{
  display:flex;
  gap:2rem;
  width:100%;
  padding-right:10px;
  height: auto;
  max-height: none;
  overflow: visible;
}

/* columna izquierda y derecha (consistentes) */
.columna-izquierda{ flex:1; min-width:350px; max-width:550px; display:flex; flex-direction:column; overflow:auto; padding-right:5px; }
.columna-derecha{ width:380px; flex-shrink:0; display:flex; flex-direction:column; align-items:center; }

/* tarjeta imagen (mini) */
.tarjeta-imagen{ width:100%; max-width:380px; text-align:center; }
.imagen-sistema-activo{ width:100%; height:auto; max-height:260px; object-fit:cover; border-radius:.75rem; }

/* ==========================================================
   ---------------------------
   HERO: fondo + expansi√≥n (Netflix-style)
   ---------------------------
   Un solo conjunto de clases, sin duplicados.
   ========================================================== */

/* hero wrapper controla el estado "expanded" */
.hero-wrapper{ position:relative; overflow:hidden; }

.hero-wrapper,
.tarjeta-expandida{
  min-height: unset;
  max-height: unset;
  height: auto;
}

/* tarjeta-expandida: panel que aparece encima del layout al abrir un tipo */
.tarjeta-expandida{
  position:relative;
  width:100%;

  border-radius:1rem;
  overflow:hidden;
  display:flex;
  align-items:stretch;
  justify-content:center;
  transition:transform .4s cubic-bezier(.2,.9,.3,1), opacity .3s ease;
  opacity:0;
  transform:none;        /* üî• clave */
  z-index:20;
  margin-bottom: 20px;      /* üî• espacio real debajo */
  border-radius: 1rem;      /* ya lo tienes, pero reforzamos */
}

/* cuando el wrapper tiene .expanded mostramos contenido (unificado trigger) */
.hero-wrapper.expanded .tarjeta-expandida,
.hero-wrapper.expanded .tarjeta-contenido{
  opacity:1;
}

/* Imagen principal fija y limpia */
.hero-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  z-index: -1;
  pointer-events: none;

  /* Limpia, sin oscurecer, sin filtros */
  filter: none;
}

/* Quitamos completamente el overlay */
.hero-background::after {
  content: none !important;
}

/* Contenido en primer plano centrado (glass effect) */
.tarjeta-contenido{
  position:relative;
  z-index:2;
  width:100%;
  max-width:1200px;
  padding:28px;
  display:flex;
  flex-direction:column;
  gap:18px;
  backdrop-filter:blur(4px);
}

/* overlay cards: tarjetas blancas sobre el fondo con transparencia sutil */
.overlay{ display:flex; gap:1.6rem; align-items:flex-start; }
.overlay-card{
  background:rgba(255,255,255,.88);
  border-radius:.75rem;
  box-shadow:0 6px 22px rgba(8,20,40,.08);
  padding:16px;
  backdrop-filter:blur(4px);
  -webkit-backdrop-filter:blur(4px);
}

/* columnas dentro del overlay (izquierda inputs, derecha ayuda) */
.columna-izquierda.overlay-card{ flex:1; min-width:320px; max-width:780px; overflow:auto; max-height:calc(70vh); }
.columna-derecha.overlay-card{ width:360px; flex-shrink:0; display:flex; flex-direction:column; gap:14px; align-items:center; }

/* imagen mini decorativa */
.imagen-mini{ width:100%; height:160px; object-fit:cover; border-radius:.6rem; box-shadow:0 6px 18px rgba(8,20,40,.06); }

/* Scrollbar apenas visible para los overlays */
.columna-izquierda.overlay-card::-webkit-scrollbar{ height:8px; width:8px; }
.columna-izquierda.overlay-card::-webkit-scrollbar-thumb{ background:rgba(0,0,0,.08); border-radius:8px; }

/* Adaptaciones responsive para overlay */
@media (max-width:900px){
  .overlay{ flex-direction:column; }
  .columna-derecha.overlay-card{ width:100%; max-width:none; }
  .columna-izquierda.overlay-card{ max-height:none; }
  .tarjeta-expandida{ min-height:auto; }
  .hero-background{ filter:blur(8px); }
}

/* Animaci√≥n expandCard (efecto "salida" de la tarjeta seleccionada) */
/* Nota: la animaci√≥n de la tarjeta individual (opcion-sistema -> expand) se puede controlar desde JS/React
   a√±adiendo la clase `.seleccionada` y aplicando esta keyframe si lo deseas. */
@keyframes expandCard{
  0%{ transform:scale(1) translate(0,0); opacity:1; }
  100%{ transform:scale(2.6) translate(0,-10%); opacity:0; }
}

/* Animaci√≥n fade del fondo hero */
@keyframes fadeBg{ from{opacity:0} to{opacity:1} }

/* Animaci√≥n suave de aparici√≥n general (zoom + fade) */
@keyframes zoomFadeIn{
  0%{ opacity:0; transform:scale(.94); }
  100%{ opacity:1; transform:scale(1); }
}

/* ==========================================================
   üß© Bloquear scroll cuando se abre overlay
   ========================================================== */
body.no-scroll{ overflow:hidden !important; }

/* ==== ANIMACI√ìN DE EXPANSI√ìN REAL ==== */

@keyframes expandirTarjetaSuave {
  0% {
    transform: scale(0.92);
    opacity: 0;
  }
  60% {
    transform: scale(1.03);
    opacity: 1;
  }
  100% {
    transform: scale(1);
  }
}

/* Aplicada solo a la versi√≥n grande */
.tarjeta-expandida {
  animation: expandirTarjetaSuave 0.45s ease-out forwards;
  transform-origin: center;
}

@keyframes fadeNetflixOverlay {
  0% { opacity:0; }
  60% { opacity:1; }
  100% { opacity:1; }
}

/* ===============================
   üìä Resultados generales ‚Äî modo compacto
   =============================== */

.seccion-resultados{
  flex: 1;                    /* ocupa el espacio disponible */
  overflow-y: auto;           /* ‚úÖ scroll vertical REAL */
  overflow-x: hidden;
  padding-bottom: 12px;        /* üîë deja respirar el √∫ltimo dato */
}

.tabla-resultados{
  font-size: 0.72rem;          /* ‚Üì clave */
  line-height: 1.2;            /* ‚Üì compacta filas */
}

.tabla-resultados th,
.tabla-resultados td{
  padding: 3px 6px;            /* ‚Üì menos alto */
  white-space: nowrap;         /* evita saltos de l√≠nea */
}

.tabla-resultados th{
  font-weight: 600;
  color: #334155;
}

.tabla-resultados td{
  text-align: right;
  color: #1f2937;
}

.toggle-seccion.unida{
  box-shadow: none;
  border: 1px solid var(--color-borde);
  background: #ffffff;
}

.toggle-boton.activo{
  background: transparent;
  color: var(--color-primario);
  padding: 0.6rem 0.8rem;
  border-bottom: 1px solid var(--color-borde);
}

.toggle-boton h3{
  font-size: 0.9rem;
  font-weight: 700;
}

/* =========================================
   üìä RESULTADOS GENERALES
   ========================================= */

.toggle-seccion.unida{
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.06);
}

.toggle-seccion.unida .toggle-boton{
  color: #e5e7eb;
}

/* =========================================================
   üß± PANEL IZQUIERDO ‚Äî BASE √öNICA (PREMIUM / DARK)
   ========================================================= */

.panel-izquierdo{
  position: relative;
  width: 280px;
  min-width: 260px;
  height: 100vh;
  display: flex;
  flex-direction: column;
  padding: 1.25rem 1rem;
  background: linear-gradient(180deg, #0f172a, #020617);
  color: #e5e7eb;
  border-right: 1px solid rgba(255,255,255,0.08);
}

/* L√≠nea divisoria sutil (opcional pero elegante) */
.panel-izquierdo::after{
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  width: 1px;
  height: 100%;
  pointer-events: none;
  background: linear-gradient(
    180deg,
    rgba(96,165,250,0.35),
    rgba(96,165,250,0.05)
  );
}

/* =========================================================
   üì¶ PANEL IZQUIERDO ‚Äî COLAPSADO
   ========================================================= */

.panel-izquierdo.colapsado{
  width: 64px;
  min-width: 64px;
  padding-left: 0.5rem;
  padding-right: 0.5rem;
}

.panel-izquierdo.colapsado .toggle-navegacion-fija,
.panel-izquierdo.colapsado .toggle-seccion{
  display: none;
}

/* =========================================================
   üîù HEADER ICONOS (HOME / COLAPSAR)
   ========================================================= */

.panel-header{
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.25rem;
}

.icon-btn{
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.08);
  color: #e5e7eb;
  border-radius: 0.5rem;
  padding: 6px;
  cursor: pointer;

  display: flex;
  align-items: center;
  justify-content: center;

  transition:
    background .2s ease,
    transform .15s ease;
}

.icon-btn:hover{
  background: rgba(255,255,255,0.14);
  transform: translateY(-1px);
}

/* =========================================================
   üîò NAVEGACI√ìN LATERAL ‚Äî DARK COHERENTE
   ========================================================= */

.panel-izquierdo .toggle-navegacion-fija button{
  background: transparent;
  border: none;

  color: #e5e7eb;
  font-weight: 500;
  letter-spacing: 0.3px;

  padding: 0.45rem 0.75rem;
  border-radius: 0.5rem;

  transition:
    background .2s ease,
    color .2s ease;
}

.panel-izquierdo .toggle-navegacion-fija button:hover{
  background: rgba(255,255,255,0.06);
  color: #f8fafc;
}

/* Activo: MISMO COLOR, solo √©nfasis */
.panel-izquierdo .toggle-navegacion-fija button.activo{
  color: #f8fafc;
  font-weight: 600;

  background: rgba(255,255,255,0.08);
  border-left: 3px solid #60a5fa;
  border-radius: 0.25rem;
}

/* =========================================================
   üìä RESULTADOS GENERALES ‚Äî TEXTO CLARO
   ========================================================= */

.panel-izquierdo .tabla-resultados{
  font-size: 0.72rem;
  line-height: 1.2;
}

.panel-izquierdo .tabla-resultados th{
  color: #c7d2fe;
  font-weight: 600;
}

.panel-izquierdo .tabla-resultados td{
  color: #e5e7eb;
  text-align: right;
}

/* =========================================
   üîí HEADER cuando el panel est√° colapsado
   ========================================= */

.panel-izquierdo.colapsado .panel-header{
  justify-content: center;   /* bot√≥n centrado */
}

/* por si acaso (refuerzo visual) */
.panel-izquierdo.colapsado .panel-header .icon-btn{
  margin: 0;
}

/* =========================================================
   üß≠ NAVEGACI√ìN VERTICAL ‚Äî ICONOS PREMIUM
   ========================================================= */

.nav-vertical{
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
  margin-bottom: 1.25rem;
}

/* item base */
.nav-item{
  display: flex;
  align-items: center;
  gap: 0.75rem;

  width: 100%;
  padding: 0.55rem 0.75rem;

  background: transparent;
  border: none;
  border-radius: 0.6rem;

  color: #e5e7eb;
  font-size: 0.9rem;
  font-weight: 500;

  cursor: pointer;

  transition:
    background 0.2s ease,
    color 0.2s ease,
    transform 0.15s ease;
}

/* icono */
.nav-icon{
  font-size: 1.15rem;
  width: 24px;
  text-align: center;
}

/* texto */
.nav-text{
  white-space: nowrap;
}

/* hover */
.nav-item:hover{
  background: rgba(255,255,255,0.06);
  color: #f8fafc;
}

/* activo */
.nav-item.activo{
  background: rgba(96,165,250,0.15);
  color: #ffffff;
  font-weight: 600;
}

/* =========================================================
   üì¶ PANEL COLAPSADO ‚Äî SOLO ICONOS
   ========================================================= */

.panel-izquierdo.colapsado .nav-item{
  justify-content: center;
  padding: 0.55rem;
}

.panel-izquierdo.colapsado .nav-icon{
  font-size: 1.2rem;
}

/* =========================================================
   üéûÔ∏è ANIMACI√ìN SUAVE DEL PANEL
   ========================================================= */

.panel-izquierdo{
  transition:
    width 0.28s ease,
    padding 0.28s ease;
}

/* suaviza contenido interno */
.panel-izquierdo *{
  transition: opacity 0.2s ease;
}

/* =========================================
   üß© SELECTOR T√âCNICO DE SISTEMA
   ========================================= */

.selector-tecnico{
  background: rgba(15,23,42,0.55);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 12px;
  padding: 1.25rem;

  display: flex;
  flex-direction: column;

  /* üîë CLAVE ABSOLUTA */
  height: calc(100vh - 3rem);   /* ajusta si tu header global cambia */
  max-height: calc(100vh - 3rem);

  overflow: hidden;             /* ‚õî NUNCA crecer */
}

.selector-contenido{
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;

  padding-right: 6px; /* espacio scrollbar */
}

/* HEADER */
.selector-header{
  margin-bottom: 1rem;
}

.selector-titulo{
  font-size: 0.95rem;
  font-weight: 600;
  color: #f8fafc;
}

.selector-subtitulo{
  font-size: 0.75rem;
  color: #94a3b8;
  margin-top: 2px;
}

/* LISTA */
.lista-sistemas{
  display: flex;
  flex-direction: column;
  gap: 12px;

  flex-shrink: 0;   /* üîë NO empuja */
  overflow: hidden;
}



/* FILA */
.fila-sistema{
  display: flex;
  align-items: center;
  justify-content: space-between;

  padding: 10px 12px;
  border-radius: 8px;

  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.04);
  min-height: 64px; /* o 64px si te gusta m√°s */

  cursor: pointer;
  transition: background 160ms ease, border 160ms ease;
}

/* HOVER */
.fila-sistema:hover{
  background: rgba(255,255,255,0.05);
}

/* ACTIVO */
.fila-sistema.activo{
  background: linear-gradient(
    90deg,
    rgba(96,165,250,0.18),
    rgba(96,165,250,0.06)
  );

  border-left: 3px solid #60a5fa;

  box-shadow:
    inset 0 0 0 1px rgba(96,165,250,0.15),
    0 4px 10px rgba(0,0,0,0.25);

  transform: translateX(2px);
}

.fila-sistema.hover:not(.activo){
  background: rgba(255,255,255,0.06);
}


/* INFO */
.sistema-info{
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.sistema-nombre{
  font-size: 0.85rem;
  font-weight: 500;
  color: #f8fafc;
}

.sistema-meta{
  font-size: 0.7rem;
  color: #94a3b8;
}

/* IMAGEN */
.sistema-imagen{
  width: 56px;
  height: 40px;
  flex-shrink: 0;

  border-radius: 6px;
  overflow: hidden;

  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.06);

  display: flex;
  align-items: center;
  justify-content: center;
}

.sistema-imagen img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0.9;
}

/* =========================================
   üéû Animaci√≥n expansi√≥n vertical t√©cnica
   ========================================= */

@keyframes expandVerticalSoft {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.selector-tecnico{
  animation: expandVerticalSoft 0.35s ease-out forwards;
}

/* =========================================
   üß± Barra t√©cnica inferior
   ========================================= */

.selector-footer{
  flex-shrink: 0;
  margin-top: 0.75rem;
  padding-top: 0.5rem;

  border-top: 1px solid rgba(255,255,255,0.08);

  display: flex;
  justify-content: space-between;
  align-items: center;

  font-size: 0.72rem;
  color: #cbd5f5;
  letter-spacing: 0.4px;
}

.selector-footer span{
  opacity: 0.85;
}

.selector-contenido{
  animation: fadeInSoft 0.2s ease;
}

@keyframes fadeInSoft{
  from{ opacity:0.85; }
  to{ opacity:1; }
}


/* =========================
   FOOTER FIJO CON BLUR
   ========================= */

.selector-footer.fijo{
  position: sticky;
  bottom: 0;
  flex-shrink: 0;
  margin-top: auto;
  padding: 0.6rem 0.75rem;

  background: rgba(15,23,42,0.75);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);

  border-top: 1px solid rgba(255,255,255,0.08);

  display: flex;
  justify-content: space-between;
  align-items: center;

  font-size: 0.72rem;
  color: #cbd5f5;
  letter-spacing: 0.35px;

  z-index: 5;
}

/* =========================
   üî¢ BADGE DE CUERPOS
   ========================= */

.badge-cuerpo{
  margin-left: 6px;
  padding: 2px 6px;

  font-size: 0.6rem;
  font-weight: 600;
  border-radius: 999px;

  letter-spacing: 0.4px;
  vertical-align: middle;
}

.badge-cuerpo.simple{
  background: rgba(96,165,250,0.15);
  color: #93c5fd;
}

.badge-cuerpo.doble{
  background: rgba(34,197,94,0.18);
  color: #86efac;
}

/* =========================
   üñºÔ∏è PREVIEW IMAGEN T√âCNICO
   ========================= */

.sistema-imagen img{
  transition:
    transform 0.35s ease,
    filter 0.35s ease;
}

.fila-sistema:hover .sistema-imagen img{
  transform: scale(1.12);
  filter: brightness(1.08);
}

.fila-sistema.activo .sistema-imagen img{
  transform: scale(1.15);
  filter: brightness(1.12);
}

/* =========================
   üìê MODO EXPERTO / COMPACTO
   ========================= */

.modo-experto .fila-sistema{
  padding: 10px 12px;
}

.modo-experto .sistema-nombre{
  font-size: 0.8rem;
}

.modo-experto .sistema-meta{
  font-size: 0.65rem;
}

.modo-experto .sistema-imagen{
  width: 52px;
  height: 36px;
}

.footer-highlight{
  color: #e0e7ff;
  font-weight: 500;
  transition: color 0.2s ease;
}

.selector-footer.fijo:hover .footer-highlight{
  color: #ffffff;
}

/* =========================================
   üß† T√çTULO DEL SISTEMA ACTIVO (HEADER)
   ========================================= */

.selector-titulo-sistema{
  font-size: 0.95rem;        /* igual que labels t√©cnicos */
  font-weight: 600;
  color: #f8fafc;

  padding-left: 0.5rem;
  border-left: 3px solid #60a5fa;

  letter-spacing: 0.2px;
}

/* subt√≠tulo t√©cnico */
.selector-subtitulo-tecnico{
  margin-top: 2px;
  font-size: 0.72rem;
  color: #c7d2fe;
  opacity: 0.85;
}

/* =========================================
   üß± BLOQUE GENERAL DE INPUTS T√âCNICOS
   ========================================= */

.selector-bloque-inputs{
  display: flex;
  flex-direction: column;
  gap: 14px;
  margin-bottom: 1rem;
}

/* =========================================
   üì¶ GRUPO (TARJETA TRANSPARENTE)
   ========================================= */

.selector-grupo{
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 10px;
  padding: 0.9rem;

  transition:
    background 0.2s ease,
    border 0.2s ease,
    box-shadow 0.2s ease;
}

.selector-grupo:hover{
  background: rgba(255,255,255,0.05);
  border-color: rgba(96,165,250,0.25);
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
}

/* subt√≠tulo como fila-sistema */
.selector-grupo .selector-subtitulo{
  font-size: 0.75rem;
  font-weight: 600;
  color: #e5e7eb;
  margin-bottom: 0.6rem;
  letter-spacing: 0.3px;
  padding-left: 0.4rem;
  border-left: 3px solid #60a5fa;
}

/* =========================================
   üß© GRID DE CAMPOS
   ========================================= */

.selector-grid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 10px;
}

/* =========================================
   üîß CAMPO INDIVIDUAL (LOOK FILA-SISTEMA)
   ========================================= */

.campo{
  background: rgba(15,23,42,0.55);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 8px;
  padding: 8px 10px;

  display: flex;
  flex-direction: column;
  gap: 4px;

  transition:
    background 0.2s ease,
    border 0.2s ease;
}

.campo:hover{
  background: rgba(255,255,255,0.06);
  border-color: rgba(96,165,250,0.35);
}

/* label estilo sistema */
.campo label{
  font-size: 0.65rem;
  color: #c7d2fe;
  letter-spacing: 0.4px;
}

/* input / select */
.campo input,
.campo select{
  background: transparent;
  border: none;
  outline: none;

  color: #ffffff;
  font-size: 0.75rem;
  font-weight: 500;

  padding: 4px 0;
}

/* placeholder */
.campo input::placeholder{
  color: #94a3b8;
}

/* =========================================
   üîò RADIOS T√âCNICOS (MISMO LOOK TARJETA)
   ========================================= */

.selector-radios{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 8px;
  margin-top: 0.4rem;
}

.selector-radios label{
  display: flex;
  align-items: center;
  gap: 6px;

  background: rgba(15,23,42,0.55);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 8px;

  padding: 6px 8px;

  font-size: 0.7rem;
  color: #e5e7eb;
  cursor: pointer;

  transition:
    background 0.2s ease,
    border 0.2s ease,
    color 0.2s ease;
}

.selector-radios label:hover{
  background: rgba(255,255,255,0.06);
  border-color: rgba(96,165,250,0.35);
  color: #ffffff;
}

.selector-radios input[type="radio"]{
  accent-color: #60a5fa;
}











/* =========================================
   üéû ANIMACI√ìN SUAVE DE APARICI√ìN
   ========================================= */

.selector-grupo{
  animation: expandVerticalSoft 0.35s ease-out both;
}

/* SELECT CERRADO */
select {
  color: #ffffff;           /* texto blanco */
  background-color: #1e1e1e; /* tu fondo oscuro */
}

/* OPCIONES DEL DROPDOWN */
select option {
  color: #000000;           /* texto negro */
  background-color: #ffffff; /* fondo blanco */
}

/* OPCI√ìN SELECCIONADA */
select option:checked {
  background-color: #e5e7eb;
  color: #000000;
}

/* HOVER (algunos navegadores lo respetan) */
select option:hover {
  background-color: #d1d5db;
}

.selector-acciones {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.btn-secundario{
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.15);
  color: #cbd5f5;

  padding: 7px 12px;
  border-radius: 999px;

  font-size: 0.75rem;
  font-weight: 500;
  letter-spacing: 0.3px;

  cursor: pointer;

  transition:
    background 0.2s ease,
    border 0.2s ease,
    color 0.2s ease,
    transform 0.15s ease;
}

.btn-secundario:hover{
  background: rgba(255,255,255,0.06);
  border-color: rgba(96,165,250,0.35);
  color: #ffffff;
  transform: translateX(-1px);
}

.btn-primario{
  background: linear-gradient(
    135deg,
    #475569,   /* slate-600 */
    #334155    /* slate-700 */
  );

  border: 1px solid rgba(148,163,184,0.35);
  color: #f8fafc;

  padding: 9px 18px;
  border-radius: 999px;

  font-size: 0.8rem;
  font-weight: 600;
  letter-spacing: 0.35px;

  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.08),
    0 6px 16px rgba(0,0,0,0.35);

  transition: all 0.18s ease;
}

.btn-primario:hover{
  background: linear-gradient(
    135deg,
    #64748b,
    #475569
  );
}

.btn-primario:disabled{
  background: linear-gradient(
    135deg,
    rgba(96,165,250,0.25),
    rgba(59,130,246,0.25)
  );

  color: rgba(255,255,255,0.6);
  cursor: not-allowed;

  box-shadow: none;
  filter: grayscale(0.4);
}

/* =========================
   üé¨ TRANSICI√ìN REGRESO DIMENSIONES
   ========================= */

.selector-contenido.entrada{
  animation: fadeInUpSoft 0.22s ease forwards;
}

.selector-contenido.salida{
  animation: fadeOutDownSoft 0.22s ease forwards;
}

@keyframes fadeInUpSoft{
  from{
    opacity: 0;
    transform: translateY(12px);
  }
  to{
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeOutDownSoft{
  from{
    opacity: 1;
    transform: translateY(0);
  }
  to{
    opacity: 0;
    transform: translateY(10px);
  }
}

.input-error {
  border: 1px solid #ef4444 !important;
  box-shadow: 0 0 0 1px rgba(239,68,68,0.6);
}

.error-text {
  font-size: 0.75rem;
  color: #ef4444;
  margin-top: 2px;
}

.aviso-wrapper {
  position: relative;   /* üîë ANCLA el aviso */
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 0.4rem;
}

.aviso-validacion {
  position: absolute;
  bottom: 100%;        /* debajo del bot√≥n */
  right: 0;         /* alineado con el bot√≥n */
  margin-top: 0.5rem;

  background: #000000;
  color: #ffffff;
  padding: 0.5rem 0.75rem;
  border-radius: 0.5rem;
  font-size: 0.85rem;
  white-space: nowrap;
}

.aviso-validacion::after {
  content: "";
  position: absolute;
  top: 100%;
  right: 16px;

  border-width: 6px;
  border-style: solid;
  border-color: rgba(15, 23, 42, 0.95) transparent transparent transparent;
}

/* ===============================
   üéØ ANIMACIONES
   =============================== */

@keyframes avisoEntrada {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes shake {
  0%   { transform: translateX(0); }
  25%  { transform: translateX(-3px); }
  50%  { transform: translateX(3px); }
  75%  { transform: translateX(-3px); }
  100% { transform: translateX(0); }
}

.btn-primario.error {
  animation: shake 0.3s;
}

/* ===============================
   ü•ß GR√ÅFICA PRINCIPAL
   =============================== */

.grafica-mini {
  background:
    radial-gradient(
      60% 60% at center,
      rgba(96,165,250,0.10) 0%,
      rgba(15,23,42,0.45) 55%,
      rgba(15,23,42,0.65) 100%
    );
  padding: 1.75rem;
  border-radius: 18px;
  height: 540px;
  min-height: 540px;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  box-shadow:
    inset 0 0 0 1px rgba(96,165,250,0.14),
    0 14px 28px rgba(0,0,0,0.35);
}

/* Canvas Chart.js */
.grafica-mini canvas {
  filter: drop-shadow(0 6px 14px rgba(0,0,0,0.45));
  width: 100% !important;
  height: 100% !important;
}


/* ===============================
   üìã TABLA CLIM√ÅTICA
   =============================== */

.tabla-clima-wrapper {
  overflow-x: auto;
  opacity: 0.9;
  transition: opacity 0.2s ease;
}

.tabla-clima-wrapper:hover {
  opacity: 1;
}

.tabla-resultados {
  font-size: 0.7rem;
}

/* ===============================
   üîò ACCIONES
   =============================== */

.acciones-calentamiento {
  display: flex;
  justify-content: flex-end;
  margin-top: 1.5rem;
}

/* ===============================
   üì± RESPONSIVE
   =============================== */

@media (max-width: 900px) {
  .layout-clima-grafica {
    grid-template-columns: 1fr;
  }

  .grafica-mini {
    min-height: 360px;
  }
}

/* ===============================
   üîò T√çTULO DE GRUPO RADIO (T√âCNICO)
   =============================== */

.selector-radios .grupo-radio > span {
  display: block;
  margin-bottom: 6px;

  font-size: 0.7rem;
  font-weight: 600;
  letter-spacing: 0.35px;

  color: #e5e7eb;

  padding-left: 0.4rem;
  border-left: 3px solid rgba(96,165,250,0.8);
}

/* ================================
   TARJETA DE EQUIPO ‚Äî DARK GLASS MINIMAL
================================ */

.equipo-card {
  margin-top: 1rem;
  padding: 1rem 1.1rem 1.15rem;
  border-radius: 14px;

  background: linear-gradient(
    135deg,
    rgba(15, 23, 42, 0.55),
    rgba(15, 23, 42, 0.35)
  );

  backdrop-filter: blur(12px);

  border: 1px solid rgba(148, 163, 184, 0.12);

  box-shadow:
    0 6px 18px rgba(0, 0, 0, 0.35);

  transition:
    transform 0.18s ease,
    box-shadow 0.18s ease,
    border 0.18s ease;
}

.equipo-card:hover {
  transform: translateY(-1px);

  border-color: rgba(96, 165, 250, 0.25);

  box-shadow:
    0 10px 26px rgba(0, 0, 0, 0.45);
}

/* ================================
   T√çTULO DEL EQUIPO
================================ */

.equipo-card h5 {
  margin-bottom: 0.65rem;

  font-size: 0.85rem;
  font-weight: 600;
  letter-spacing: 0.03em;

  color: #cbd5f5;
}

/* ================================
   GRID DE CAMPOS
================================ */

.equipo-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.65rem;
}

/* ================================
   CADA CAMPO
================================ */

.equipo-grid .campo {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.equipo-grid label {
  font-size: 0.6rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;

  color: #94a3b8;
}

/* ================================
   SELECTS OSCUROS MINIMALISTAS
================================ */

.equipo-grid select.input-azul {
  appearance: none;

  border-radius: 8px;
  padding: 0.45rem 0.5rem;

  font-size: 0.7rem;
  color: #0f172a;

  background: rgba(241, 245, 249, 0.85);

  border: 1px solid rgba(148, 163, 184, 0.4);

  box-shadow:
    inset 0 1px 2px rgba(255, 255, 255, 0.6),
    0 1px 3px rgba(0, 0, 0, 0.15);

  transition:
    border 0.15s ease,
    box-shadow 0.15s ease,
    background 0.15s ease;
}

.equipo-grid select.input-azul:hover {
  background: rgba(248, 250, 252, 0.95);
  border-color: rgba(96, 165, 250, 0.5);
}

.equipo-grid select.input-azul:focus {
  outline: none;

  background: #ffffff;

  border-color: #60a5fa;

  box-shadow:
    0 0 0 1px rgba(96, 165, 250, 0.25);
}

/* ================================
   RESPONSIVE
================================ */

@media (max-width: 1100px) {
  .equipo-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* =========================
   TARJETAS DESPLEGABLES EQUIPAMIENTO
========================= */

.sistema-card {
  padding: 0;
  overflow: hidden;
}

/* =========================
   HEADER DE SISTEMA (PRO)
========================= */

.sistema-header-interno {
  display: grid;
  grid-template-columns: 1fr auto auto;
  align-items: center;

  min-height: 54px;
  padding: 0 18px;
  gap: 14px;

  cursor: pointer;

  background: rgba(255,255,255,0.035);
  border-bottom: 1px solid rgba(255,255,255,0.06);

  transition: background 0.25s ease;
}

.sistema-header-interno:hover {
  background: rgba(255,255,255,0.06);
}

.sistema-header-interno.abierto {
  background: rgba(120,160,255,0.12);
}

/* T√≠tulo del sistema */
.sistema-titulo {
  font-size: 14.5px;
  font-weight: 500;
  color: #e6ecf5;
}

/* Bot√≥n configurar */
.sistema-boton {
  height: 28px;
  padding: 0 14px;

  display: flex;
  align-items: center;
  justify-content: center;

  font-size: 11.5px;
  font-weight: 500;

  color: #dbeafe;

  background: rgba(120,160,255,0.18);
  border: 1px solid rgba(120,160,255,0.28);
  border-radius: 999px;

  transition: all 0.25s ease;
}

.sistema-header-interno:hover .sistema-boton {
  background: rgba(120,160,255,0.32);
}

/* Contenido interno */
.sistema-contenido-interno {
  max-height: 0;
  overflow: hidden;

  opacity: 0;
  transform: translateY(-6px);

  transition:
    max-height 0.45s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.3s ease,
    transform 0.3s ease;
}

.sistema-contenido-interno.expandido {
  max-height: 2000px; /* suficiente */
  opacity: 1;
  transform: translateY(0);
}

.sistema-estado {
  display: flex;
  align-items: center;
  gap: 6px;

  font-size: 12px;
  color: #cbd5e1;
}

.estado-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
}

.estado-dot.vacio {
  background: #ef4444;
}

.estado-dot.parcial {
  background: #facc15;
}

.estado-dot.completo {
  background: #22c55e;
}

.sistema-card.estado-vacio {
  box-shadow: inset 0 0 0 1px rgba(239,68,68,0.25);
}

.sistema-card.estado-parcial {
  box-shadow: inset 0 0 0 1px rgba(250,204,21,0.25);
}

.sistema-card.estado-completo {
  box-shadow: inset 0 0 0 1px rgba(34,197,94,0.25);
}

.decision-card {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1rem;
  margin-bottom: 1.2rem;
}

.decision-label {
  font-size: 0.75rem;
  color: rgba(226,232,240,0.8);
  margin-bottom: 0.25rem;
}

.decision-grupo.checkbox .decision-label {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  cursor: pointer;
  margin-bottom: 0;
}

.decision-grupo.checkbox input {
  transform: scale(1.05);
}

.decision-toggle {
  background: rgba(15,23,42,0.8);
  border: 1px solid rgba(148,163,184,0.25);
  border-radius: 6px;
  padding: 0.55rem 0.75rem;
  font-size: 0.8rem;
  color: #e5e7eb;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  transition: border-color 0.2s ease, background 0.2s ease;
}

.decision-toggle:hover {
  border-color: rgba(56, 189, 248, 0.6);
}

.decision-toggle.activo {
  background: rgba(148,163,184,0.12);
  border-color: rgba(148,163,184,0.55);
}

.decision-estado {
  font-size: 0.7rem;
  color: rgba(226,232,240,0.7);
}

.grupo-sistema{
  margin-bottom: 32px;
  padding: 18px 20px;

  border-radius: 14px;

  background: rgba(15, 23, 42, 0.55);
  border: 1px solid rgba(148, 163, 184, 0.18);

  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.03),
    0 8px 22px rgba(0,0,0,0.35);

  transition:
    border 0.2s ease,
    box-shadow 0.2s ease;
}


.grupo-sistema-header{
  margin-bottom: 14px;
}

.grupo-sistema-titulo{
  font-size: 11.5px;
  font-weight: 600;

  text-transform: uppercase;
  letter-spacing: 0.08em;

  color: #cbd5f5;
}

.grupo-sistema:hover{
  border-color: rgba(148,163,184,0.35);

  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.04),
    0 10px 28px rgba(0,0,0,0.45);
}


.grupo-sistema-subtitulo{
  font-size: 11px;
  color: rgba(203,213,245,0.65);
  margin-top: 2px;
}


.grupo-sistema-contenido{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 14px;
}


/* === ANIMACI√ìN SISTEMAS (FIX DEFINITIVO) === */
.sistema-contenido-animado {
  overflow: hidden;
  max-height: 0;
  opacity: 0;
  transform: translateY(-6px);
  transition:
    max-height 0.45s cubic-bezier(0.4, 0, 0.2, 1),
    opacity 0.3s ease,
    transform 0.3s ease;
}

.sistema-contenido-animado.expandido {
  max-height: 4000px; /* alto seguro */
  opacity: 1;
  transform: translateY(0);
}

.selector-footer.fijo.equipamiento{
  backdrop-filter: none;
  -webkit-backdrop-filter: none;

  background: rgba(15, 23, 42, 0.92); /* ‚Üê clave */
  
  box-shadow:
    0 -1px 0 rgba(255,255,255,0.05),
    0 -6px 18px rgba(0,0,0,0.35);
}

/* Imagen zoomable */
.img-zoomable {
  cursor: zoom-in;
  transition: transform 0.25s ease;
}

.img-zoomable:hover {
  transform: scale(1.03);
}

/* Visor */
.visor-imagen {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.75);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
}

.visor-contenido {
  position: relative;
  max-width: 90vw;
  max-height: 90vh;
  background: #111;
  border-radius: 14px;
  padding: 12px;
  box-shadow: 0 30px 80px rgba(0, 0, 0, 0.6);
}

.visor-contenido img {
  max-width: 100%;
  max-height: 75vh;
  object-fit: contain;
  border-radius: 10px;
}

.visor-titulo {
  margin-top: 8px;
  text-align: center;
  font-size: 13px;
  color: #cfd3da;
  letter-spacing: 0.03em;
}

/* Bot√≥n cerrar */
.visor-cerrar {
  position: absolute;
  top: 8px;
  right: 10px;
  background: none;
  border: none;
  font-size: 18px;
  color: #cfd3da;
  cursor: pointer;
}

.visor-cerrar:hover {
  color: white;
}

/* === TARJETA TABLA CLIMA === */
.tabla-clima-card {
  background: rgba(15,23,42,0.65);
  border: 1px solid rgba(148,163,184,0.18);
  border-radius: 14px;
  padding: 1rem;
  box-shadow: 0 10px 28px rgba(0,0,0,0.35);
  height: 540px;       /* üîí MISMA ALTURA QUE LA GR√ÅFICA */
  max-height: 540px;
  display: flex;
  flex-direction: column;
  max-width: 100%;
}

/* Toolbar */
.tabla-toolbar {
  display: flex;
  justify-content: flex-end;
  margin-bottom: 0.6rem;
}

.checkbox-raiz {
  font-size: 0.75rem;
  color: #cbd5f5;
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

/* Tabla */
.tabla-clima-pro {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.68rem;
  text-align: center;
}

.tabla-clima-pro th {
  font-weight: 600;
  color: #e5e7eb;
  padding: 6px;
  border-bottom: 1px solid rgba(255,255,255,0.1);
}

.tabla-clima-pro td {
  padding: 6px;
  color: #cbd5f5;
}

/* Resumen */
.tabla-resumen-frio {
  margin-top: 1rem;
}

.resumen-titulo {
  font-size: 0.75rem;
  font-weight: 600;
  color: #f8fafc;
  margin-bottom: 0.4rem;
}

.layout-clima-grafica {
  display: grid;
  grid-template-columns: 1.35fr 1fr; /* üëà gr√°fica m√°s ancha */
  gap: 1.6rem;
  align-items: stretch;
}

.columna-clima-tabla {
  display: flex;
  flex-direction: column;
  gap: 0.6rem;
}

.th-calentar {
  vertical-align: top;   /* üî• CLAVE ABSOLUTA */
  text-align: center;
  padding-top: 8px;
}

.checkbox-columna {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  font-weight: 500;
  color: #cbd5f5;
  margin-bottom: 6px;
}

.checkbox-columna input {
  transform: scale(1.1);
  cursor: pointer;
}

.titulo-columna {
  font-weight: 600;
  font-size: 12px;
  color: #e5e7eb;
}

.callout-omitir-calentamiento {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1.5rem;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1.5rem;
  border-radius: 14px;
  background: linear-gradient(
    90deg,
    rgba(96,165,250,0.12),
    rgba(15,23,42,0.6)
  );
  border: 1px solid rgba(96,165,250,0.25);
}

.callout-texto {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  color: #e5e7eb;
}

.callout-texto span {
  font-size: 0.9rem;
  color: #cbd5f5;
}

.callout-acciones {
  display: flex;
  gap: 0.75rem;
}

.btn-calculador-area {
  margin-top: 6px;
  padding: 6px 10px;

  background: linear-gradient(
    180deg,
    rgba(255,255,255,0.04),
    rgba(255,255,255,0.01)
  );

  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 6px;

  color: rgba(255,255,255,0.75);
  font-size: 12px;
  font-weight: 500;

  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-calculador-area:hover {
  background: linear-gradient(
    180deg,
    rgba(255,255,255,0.08),
    rgba(255,255,255,0.03)
  );
  border-color: rgba(255,255,255,0.22);
  color: #fff;
}

.grupo-radio-error {
  border: 1px solid #ef4444;
  background: rgba(239, 68, 68, 0.08);
  border-radius: 10px;
  padding: 0.75rem 1rem;
}

/* =========================================================
   üé® CALCULADOR DE √ÅREA - UNIFICADO CON SISTEMA DARK T√âCNICO
   ========================================================== */

.modal-overlay-area {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.82);
  backdrop-filter: blur(14px);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.35s ease, backdrop-filter 0.35s ease;
  z-index: 9999;
}

.modal-overlay-area.show {
  opacity: 1;
}

.modal-overlay-area.hide {
  opacity: 0;
  backdrop-filter: blur(0px);
  pointer-events: none;
}

.modal-area-calc {
  background: linear-gradient(135deg, rgba(15,23,42,.98), rgba(30,41,59,.98));
  border: 1px solid rgba(148,163,184,.2);
  border-radius: 14px;
  width: 1400px;
  max-width: 95vw;
  max-height: 92vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;

  transform: scale(.9) translateY(40px);
  opacity: 0;

  transition:
    transform .35s cubic-bezier(.16,1,.3,1),
    opacity .35s ease;

  box-shadow: 0 40px 80px rgba(0,0,0,.65);
}

.modal-area-calc.show {
  animation: modalPop .45s cubic-bezier(.34,1.56,.64,1);
  animation-fill-mode: forwards;
}

@keyframes modalPop {
  0% { transform: scale(.85) translateY(60px); opacity:0; }
  70% { transform: scale(1.03) translateY(-5px); }
  100% { transform: scale(1) translateY(0); opacity:1; }
}

/* Header */
.modal-header-area {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 14px 18px;

  background: rgba(20, 22, 27, 0.9);
  border-bottom: 1px solid rgba(148, 163, 184, 0.12);
}

.modal-titulo-grupo h3 {
  margin: 0;
  font-size: 0.95rem;
  font-weight: 600;
  color: #f1f5f9;
  letter-spacing: 0.02em;
}

.modal-subtitulo {
  margin-top: 2px;
  font-size: 0.7rem;
  color: #94a3b8;
}

/* Bot√≥n cerrar (neutral t√©cnico) */
.btn-close-area {
  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(148, 163, 184, 0.25);
  color: #cbd5e1;

  width: 32px;
  height: 32px;
  border-radius: 7px;

  font-size: 16px;
  cursor: pointer;

  display: flex;
  align-items: center;
  justify-content: center;

  transition: all 0.2s ease;
}

.btn-close-area:hover {
  background: rgba(255, 255, 255, 0.12);
  border-color: rgba(148, 163, 184, 0.45);
  color: #f8fafc;
  transform: scale(1.05);
}

.btn-close-area:active {
  transform: scale(0.96);
}

.btn-close-area:focus,
.btn-close-area:focus-visible {
  outline: none;
  box-shadow: none;
}

/* Content */
.modal-content-area {
  flex: 1;
  overflow-y: auto;
  padding: 1.1rem;
  background: rgba(15, 17, 21, 0.95);
}

/* Upload */
.upload-zone {
  min-height: 360px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.upload-label {
  max-width: 560px;
  width: 100%;
  padding: 2.2rem 1.6rem;

  border: 2px dashed rgba(148, 163, 184, 0.35);
  border-radius: 14px;

  background: rgba(30, 33, 39, 0.7);
  cursor: pointer;

  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.75rem;

  transition: all 0.25s ease;
}

.upload-label:hover {
  border-color: rgba(148, 163, 184, 0.55);
  background: rgba(30, 33, 39, 0.9);
  transform: translateY(-2px);
}

.upload-icon {
  font-size: 3.2rem;
  opacity: 0.7;
}

.upload-titulo {
  font-size: 0.85rem;
  font-weight: 600;
  color: #e5e7eb;
}

.upload-desc {
  font-size: 0.72rem;
  color: #94a3b8;
}

.upload-formatos {
  font-size: 0.65rem;
  color: #94a3b8;
  padding: 0.35rem 0.75rem;
  background: rgba(15, 17, 21, 0.7);
  border-radius: 999px;
}

/* Canvas */
.canvas-container-area {
  background: #0f1115;
  border: 1px solid rgba(148, 163, 184, 0.15);
  border-radius: 10px;
  padding: 0.75rem;
  margin-bottom: 0.75rem;
  max-height: 480px;
  overflow: auto;

  display: flex;
  justify-content: center;
  align-items: center;
}

.canvas-area-dark {
  background: #0c0e12;
  border-radius: 6px;
  max-width: 100%;
  max-height: 100%;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.45);
}

/* √Årea preview */
.area-preview-dark {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(148, 163, 184, 0.18);
  border-radius: 9px;
  padding: 0.55rem 0.9rem;
  margin-bottom: 0.75rem;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

.preview-label {
  font-size: 0.72rem;
  font-weight: 500;
  color: #94a3b8;
}

.preview-valor {
  font-size: 0.78rem;
  font-weight: 600;
  color: #e5e7eb;
  letter-spacing: 0.02em;
}

/* Instrucciones */
.instrucciones-area {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(148, 163, 184, 0.12);
  border-radius: 9px;
  padding: 0.8rem 0.95rem;
  margin-bottom: 0.75rem;
}

.instrucciones-area h4 {
  font-size: 0.78rem;
  color: #e5e7eb;
  margin-bottom: 0.45rem;
}

.instrucciones-area li {
  font-size: 0.7rem;
  color: #cbd5e1;
  margin: 0.35rem 0;
}

/* Tools */
.tools-area {
  display: flex;
  gap: 0.6rem;
  flex-wrap: wrap;
  margin-bottom: 0.75rem;
}

/* === TOOL BUTTON BASE (UNIFICADO) === */
.btn-tool-secondary,
.btn-tool-primary {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.45rem;

  height: 36px;
  padding: 0 0.9rem;

  font-family: inherit;
  font-size: 0.72rem;
  line-height: 1;
  font-weight: 500;

  border-radius: 7px;
  cursor: pointer;

  transition:
    background 0.2s ease,
    border-color 0.2s ease,
    transform 0.12s ease;
}

.btn-tool-secondary:active,
.btn-tool-primary:active {
  transform: translateY(1px);
}

.btn-tool-secondary {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(148,163,184,0.3);
  color: #cbd5e1;
}

.btn-tool-secondary:hover:not(:disabled) {
  background: rgba(255,255,255,0.1);
}

.btn-tool-secondary:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.btn-tool-primary {
  background: linear-gradient(180deg, #334155, #1e293b);
  border: 1px solid rgba(148,163,184,0.45);
  color: #f8fafc;
  font-weight: 600;
}

.btn-tool-primary:hover {
  background: linear-gradient(180deg, #475569, #334155);
}

/* Confirmar √°rea */
.btn-confirmar-area-dark {
  width: 100%;
  height: 40px;

  background: linear-gradient(
    180deg,
    rgba(255,255,255,0.06),
    rgba(255,255,255,0.02)
  );

  border: 1px solid rgba(148, 163, 184, 0.35);
  border-radius: 9px;

  color: #e5e7eb;
  font-size: 0.75rem;
  font-weight: 600;
  letter-spacing: 0.02em;

  cursor: pointer;
  transition:
    background 0.2s ease,
    border-color 0.2s ease,
    transform 0.12s ease;
}

.btn-confirmar-area-dark:hover {
  background: linear-gradient(
    180deg,
    rgba(255,255,255,0.1),
    rgba(255,255,255,0.04)
  );
  border-color: rgba(148, 163, 184, 0.55);
}

.btn-confirmar-area-dark:active {
  transform: translateY(1px);
}

.escala-box-dark {
  margin-top: 14px;
  padding: 12px 14px;

  display: flex;
  align-items: center;
  gap: 10px;

  background: rgba(20, 22, 27, 0.85);
  border: 1px solid rgba(148, 163, 184, 0.18);
  border-radius: 10px;

  box-shadow: 0 6px 18px rgba(0,0,0,0.35);
}

.escala-label {
  color: #cbd5e1;
  font-size: 0.75rem;
  font-weight: 500;
  white-space: nowrap;
}

.input-escala {
  width: 90px;
  height: 34px;

  background: rgba(255, 255, 255, 0.06);
  border: 1px solid rgba(148, 163, 184, 0.35);
  border-radius: 8px;

  color: #f8fafc;
  font-size: 0.75rem;
  padding: 0 10px;

  outline: none;
}

.input-escala::placeholder {
  color: rgba(203, 213, 225, 0.4);
}

.input-escala:focus {
  border-color: rgba(148, 163, 184, 0.55);
  box-shadow: 0 0 0 1px rgba(255,255,255,0.06);
}

.btn-confirmar-escala {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;

  height: 34px;
  padding: 0 14px;

  background: linear-gradient(180deg, #334155, #1e293b);
  border: 1px solid rgba(148, 163, 184, 0.45);
  border-radius: 8px;

  color: #f8fafc;
  font-size: 0.72rem;
  font-weight: 600;

  cursor: pointer;
  transition: background 0.2s ease, transform 0.12s ease;
}

.btn-confirmar-escala:hover {
  background: linear-gradient(180deg, #475569, #334155);
}

.btn-confirmar-escala:active {
  transform: translateY(1px);
}

.instrucciones-navegacion {
  margin-top: 0.75rem;
  padding: 0.6rem 0.75rem;

  background: rgba(255, 255, 255, 0.04);
  border: 1px dashed rgba(148, 163, 184, 0.25);
  border-radius: 8px;

  font-size: 0.7rem;
  color: #cbd5e1;
}

.instrucciones-navegacion strong {
  display: block;
  margin-bottom: 0.35rem;
  color: #e5e7eb;
  font-weight: 600;
}

.instrucciones-navegacion ul {
  margin: 0;
  padding-left: 1rem;
}

.instrucciones-navegacion li {
  margin: 0.25rem 0;
}

.acciones-instruccion {
  display: flex;
  gap: 0.5rem;
  margin-top: 0.4rem;
  flex-wrap: wrap;
}

.escala-inline {
  display: flex;
  gap: 0.4rem;
  align-items: center;
}

.instrucciones-area li {
  padding: 6px 8px;
  border-radius: 6px;
  transition: background .2s;
}

.instrucciones-area li:hover {
  background: rgba(255,255,255,0.04);
}

.btn-link{
  background: transparent;
  border: none;

  font-size: 0.75rem;
  font-weight: 500;
  letter-spacing: 0.3px;

  color: #60a5fa;
  cursor: pointer;

  padding: 4px 2px;

  transition:
    color 0.2s ease,
    transform 0.15s ease;
}

.btn-link:hover{
  color: #93c5fd;
  transform: translateX(1px);
}

.callout-acciones{
  display: flex;
  align-items: center;
  gap: 10px;
}

.upload-zone.drag-activo .upload-label{
  border-color: #38bdf8;
  background: rgba(56,189,248,0.08);
}

.loader-overlay {
  position: absolute;
  inset: 0;
  background: rgba(10, 10, 10, 0.75);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 20;
  color: #fff;
  font-size: 14px;
}

.spinner {
  width: 48px;
  height: 48px;
  border: 4px solid rgba(255,255,255,.3);
  border-top-color: #00bcd4;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 12px;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.tabla-resultados {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0 4px;
}

.tabla-resultados tr {
  background: rgba(255,255,255,0.02);
  transition: background 0.2s ease;
}

.tabla-resultados tr:hover {
  background: rgba(0,188,212,0.12);
}

.seccion-resultados {
  max-height: 100%;
  overflow-y: auto;
  padding-right: 6px; /* espacio para scrollbar */
}

.seccion-resultados::-webkit-scrollbar{
  width: 6px;
}

.seccion-resultados::-webkit-scrollbar-track {
  background: transparent;
}

.seccion-resultados::-webkit-scrollbar-thumb{
  background: rgba(96,165,250,0.35);
  border-radius: 6px;
}

.seccion-resultados::-webkit-scrollbar-thumb:hover{
  background: rgba(96,165,250,0.55);
}

.toggle-boton {
  position: sticky;
  top: 0;
  z-index: 2;
  background: #1e1e1e;
}

.toggle-boton {
  position: sticky;
  top: 0;
  z-index: 2;
  background: #1e1e1e;
}

